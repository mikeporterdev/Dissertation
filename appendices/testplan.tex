%!TEX root = ../main.tex
\begin{landscape}
\chapter{Test Plan}

\section{Login Tests}
\begin{tabularx}{\linewidth}{p{1cm} X X X X}
\textbf{No.} & \textbf{Description}                    & \textbf{Expected Outcome}                                  & \textbf{Actual Outcome (If failed)} & \textbf{Test Data}                                          \\ \hline
1   & Check the application launches                         & Application launches to login screen with                          &                            & Launch from homescreen                                 \\ \hline
2   & Check user can register                                & User receives ``Registered'' notification and user appears in server &                            & Register with test@test.com and testpassword           \\ \hline
3   & Check user can log in                                  & The user can login successfully                                    &                            & Login with Test 2 details.                             \\ \hline
4   & Check user is rejected with incorrect password         & ``Incorrect email or password'' is displayed                         & App hangs on sign in       & Login with test@test.com and badpassword               \\ \hline
5   & Check user is rejected with incorrect email            & ``Incorrect email or password'' is displayed                         & App hangs on sign in       & Login with badtest@test.com and testpassword           \\ \hline
6   & Check user is auto-signed in                           & User should be automatically logged into the app                   &                            & Login, then close and reopen app                       \\ \hline
7   & Check user can sign out                                & App should revert to the login screen                              &                            & Press sign out button in nav bar                       \\ \hline
8   & Check user is not auto-signed in after manual sign out & App launches to login screen without auto-login                    &                            & Press sign out button in nav bar, close and reopen app \\ \hline
\end{tabularx} 

\section{Quest Tests}
\begin{tabularx}{\linewidth}{p{1cm} X X X X}
\textbf{No.} & \textbf{Description}                    & \textbf{Expected Outcome}                                  	& \textbf{Actual Outcome (If failed)} & \textbf{Test Data}                                          \\ \hline
1            & Check adding quest                               & Quest is added to server and displayed on Open Quests list                         &                                                                  & Add quest with title `Clean your room', difficulty `Medium'                    \\ \hline
2            & Check quests can be marked as completed          & Quest moves from Open Quests to Pending Quests list                                &                                                                  & Click `Mark as Complete' on quest in Open Quest list                           \\ \hline
3            & Check quest can be confirmed                     & Quest disappears from both lists and XP/Gold rewards are given.                    &                                                                  & Click `Confirm Quest` on quest in Pending Quest list. Enter correct PIN code   \\ \hline
4            & Check expiry date                                & Quest is removed from open quests list                                             &                                                                  & Add quest then edit quest expiry date in server db                             \\ \hline
5            & Check quest cannot be confirmed without PIN code & ``PIN does not match'' toast is shown, user does not change from current screen    &                                                                  & Click `Confirm Quest' on quest in Pending Quest list. Enter incorrect PIN code \\ \hline
6            & Check quest cannot be added without PIN code     & ``PIN does not match'' toast is shown, user does not change from current screen    &                                                                  & Click `Add Quest' on navigation bar. Enter incorrect PIN code                  \\ \hline
7            & Check invalid quest - no title                   & Quest is not stored in server and ``Must enter title'' notification is shown       &                                                                  & Add quest with no title                                                        \\ \hline
8            & Check invalid quest - no expiry date             & Quest is not stored in server and ``Must enter expiry date'' notification is shown & Invalid test, app defaults field to a week and cannot be removed & Add quest with no expiry date                                                  \\ \hline
\end{tabularx} 

\section{Rewards Tests}
\begin{tabularx}{\linewidth}{p{1cm} X X X X}
\textbf{No.} & \textbf{Description}                    & \textbf{Expected Outcome}                                  	& \textbf{Actual Outcome (If failed)} & \textbf{Test Data}                                          \\ \hline
1            & Check adding rewards                              & PIN code check is shown, reward is added to server                                      &                                                       & Click `add reward' in nav bar, add reward with title ``Test Reward'' and cost `100' \\ \hline
2            & Check invalid reward - no name                    & Reward is not stored in server and ``Must enter name'' notification is shown            &                                                       & Add reward with a cost of 100 but no title                                          \\ \hline
3            & Check invalid reward - no cost                    & Reward is not stored in server and ``Must enter cost'' notification is shown            & Reward is stored in server with cost of 0             & Add reward with title of `Test reward' but no cost                                  \\ \hline
4            & Check invalid reward - cost of 0                  & Reward is not stored in server and ``Cost must be greater than 0'' notifcation is shown & Reward is stored in server with cost of 0             & Add reward with title ``Test Reward'' and cost `0'                                  \\ \hline
5            & Check invalid reward - incorrect pin              & ``PIN does not match'' toast is shown, user does not change from current screen         &                                                       & Click `Add reward' in nav bar, enter incorrect PIN code                             \\ \hline
6            & Check purchasing reward                           & Reward is purchased, player gold is deducted by 100                                     &                                                       & Click `purchase' reward                                                             \\ \hline
7            & Check purchasing invalid reward - not enough gold & ``Not enough gold'' notification displayed, player gold is unchanged                    & Gold is deducted regardless, player in negative gold. & Create new character with 0 gold, add new reward and attempt to purchase            \\ \hline
\end{tabularx} 

\section{General App Tests}
\begin{tabularx}{\linewidth}{p{1cm} X X X X}
\textbf{No.} & \textbf{Description}                    & \textbf{Expected Outcome}                                  	& \textbf{Actual Outcome (If failed)} & \textbf{Test Data}                                          \\ \hline
1            & Check navigation bar works               & Each item takes user to the correct screen                       &                                     & Click each element in the navigation bar                                  \\ \hline
2            & Check first time set up                  & User is prompted to enter character name and parent PIN code     &                                     & Clear app data in Android settings and register new account               \\ \hline
3            & Check parent restricted navigation items & Parent PIN code prompt appears                                   &                                     & Click `Add Quest', `Add Reward' and `Set Up Parent' in the navigation bar \\ \hline
4            & Check gold display on character screen   & `Gold: 100gp' is displayed on character screen or similar value. &                                     & Complete and confirm an `Very Easy' level quest                           \\ \hline
5            & Check XP display on character screen     & `XP: 100gp' is displayed on character screen or similar value.   &                                     & Complete and confirm an `Very Easy' level quest                           \\ \hline
6            & Check levelling up                       & Character level is 2 and XP is 300/600                           &                                     & Create new account, complete and confirm an `Medium' level quest          \\ \hline
\end{tabularx} 

\section{Parent App Tests}
\begin{tabularx}{\linewidth}{p{1cm} X X X X}
\textbf{No.} & \textbf{Description}                    & \textbf{Expected Outcome}                                  	& \textbf{Actual Outcome (If failed)} & \textbf{Test Data}                                          \\ \hline
1            & Check setting up parent & Parent user is logged in and can access the quests/rewards of the attached Child user                             &                                     & Log in as child, click `Set up user', enter parent pin and create Parent account \\ \hline
2            & Check adding quest      & Quest is added to server, Parent is not prompted for PIN, Child user is notified                                  &                                     & Click `Add Quest' and input valid quest                                          \\ \hline
3            & Check adding reward     & Reward is added to server, Parent is not prompted for PIN, Child user is notified                                 &                                     & Click `Add Reward' and input valid reward                                        \\ \hline
4            & Check confirming quest  & Quest is confirmed on server, Child is given reward, Quest disappears from Pending Quests, Child user is notified &                                     & Navigate to `Pending Quests' and click `Confirm Quest'                           \\ \hline
\end{tabularx} 

\end{landscape}